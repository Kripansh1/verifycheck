"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/leads";
exports.ids = ["pages/api/leads"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleads&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleads%2Findex.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleads&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleads%2Findex.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_leads_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/leads/index.ts */ \"(api)/./pages/api/leads/index.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_leads_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_leads_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/leads\",\n        pathname: \"/api/leads\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_leads_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmxlYWRzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZsZWFkcyUyRmluZGV4LnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxzREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsc0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyaWZ5Y2hlY2stbmV4dGpzLz8wZTEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvbGVhZHMvaW5kZXgudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9sZWFkc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2xlYWRzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleads&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleads%2Findex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/mongodb.ts":
/*!************************!*\
  !*** ./lib/mongodb.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\n * Global is used here to maintain a cached connection across hot reloads\n * in development. This prevents connections growing exponentially\n * during API Route usage.\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBRTNDLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQ1I7QUFFSjtBQUVBOzs7O0NBSUMsR0FDRCxJQUFJQyxTQUFTQyxPQUFPTixRQUFRO0FBRTVCLElBQUksQ0FBQ0ssUUFBUTtJQUNYQSxTQUFTQyxPQUFPTixRQUFRLEdBQUc7UUFBRU8sTUFBTTtRQUFNQyxTQUFTO0lBQUs7QUFDekQ7QUFFQSxlQUFlQztJQUNiLElBQUlKLE9BQU9FLElBQUksRUFBRTtRQUNmLE9BQU9GLE9BQU9FLElBQUk7SUFDcEI7SUFFQSxJQUFJLENBQUNGLE9BQU9HLE9BQU8sRUFBRTtRQUNuQixNQUFNRSxPQUFPO1lBQ1hDLGdCQUFnQjtRQUNsQjtRQUVBTixPQUFPRyxPQUFPLEdBQUdSLHVEQUFnQixDQUFDQyxhQUFhUyxNQUFNRyxJQUFJLENBQUMsQ0FBQ2I7WUFDekQsT0FBT0E7UUFDVDtJQUNGO0lBRUEsSUFBSTtRQUNGSyxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztJQUNwQyxFQUFFLE9BQU9NLEdBQUc7UUFDVlQsT0FBT0csT0FBTyxHQUFHO1FBQ2pCLE1BQU1NO0lBQ1I7SUFFQSxPQUFPVCxPQUFPRSxJQUFJO0FBQ3BCO0FBRUEsaUVBQWVFLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJpZnljaGVjay1uZXh0anMvLi9saWIvbW9uZ29kYi50cz8wNWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkhO1xuXG5pZiAoIU1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWwnXG4gICk7XG59XG5cbi8qKlxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xuICogaW4gZGV2ZWxvcG1lbnQuIFRoaXMgcHJldmVudHMgY29ubmVjdGlvbnMgZ3Jvd2luZyBleHBvbmVudGlhbGx5XG4gKiBkdXJpbmcgQVBJIFJvdXRlIHVzYWdlLlxuICovXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xuXG5pZiAoIWNhY2hlZCkge1xuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCkge1xuICBpZiAoY2FjaGVkLmNvbm4pIHtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XG4gIH1cblxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xuICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xuICAgIHRocm93IGU7XG4gIH1cblxuICByZXR1cm4gY2FjaGVkLmNvbm47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.ts\n");

/***/ }),

/***/ "(api)/./models/B2CLead.ts":
/*!***************************!*\
  !*** ./models/B2CLead.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst B2CLeadSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    phone: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    email: {\n        type: String,\n        trim: true\n    },\n    service: {\n        type: String,\n        trim: true\n    },\n    source: {\n        type: String,\n        default: \"b2c\"\n    },\n    pagePath: {\n        type: String\n    },\n    utm_source: {\n        type: String\n    },\n    utm_medium: {\n        type: String\n    },\n    utm_campaign: {\n        type: String\n    },\n    meta: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n    }\n}, {\n    timestamps: {\n        createdAt: true,\n        updatedAt: false\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0__.models.B2CLead || (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.model)(\"B2CLead\", B2CLeadSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvQjJDTGVhZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFnQjNELE1BQU1HLGdCQUFnQixJQUFJSCw0Q0FBTUEsQ0FDOUI7SUFDRUksTUFBTTtRQUFFQyxNQUFNQztRQUFRQyxVQUFVO1FBQU1DLE1BQU07SUFBSztJQUNqREMsT0FBTztRQUFFSixNQUFNQztRQUFRQyxVQUFVO1FBQU1DLE1BQU07SUFBSztJQUNsREUsT0FBTztRQUFFTCxNQUFNQztRQUFRRSxNQUFNO0lBQUs7SUFDbENHLFNBQVM7UUFBRU4sTUFBTUM7UUFBUUUsTUFBTTtJQUFLO0lBQ3BDSSxRQUFRO1FBQUVQLE1BQU1DO1FBQVFPLFNBQVM7SUFBTTtJQUN2Q0MsVUFBVTtRQUFFVCxNQUFNQztJQUFPO0lBQ3pCUyxZQUFZO1FBQUVWLE1BQU1DO0lBQU87SUFDM0JVLFlBQVk7UUFBRVgsTUFBTUM7SUFBTztJQUMzQlcsY0FBYztRQUFFWixNQUFNQztJQUFPO0lBQzdCWSxNQUFNO1FBQUViLE1BQU1MLDRDQUFNQSxDQUFDbUIsS0FBSyxDQUFDQyxLQUFLO0lBQUM7QUFDbkMsR0FDQTtJQUFFQyxZQUFZO1FBQUVDLFdBQVc7UUFBTUMsV0FBVztJQUFNO0FBQUU7QUFHdEQsaUVBQWUsNkNBQVFDLE9BQU8sSUFBNkN0QiwrQ0FBS0EsQ0FBVyxXQUFXQyxjQUFjQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyaWZ5Y2hlY2stbmV4dGpzLy4vbW9kZWxzL0IyQ0xlYWQudHM/MjgyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBtb2RlbHMsIG1vZGVsIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElCMkNMZWFkIGV4dGVuZHMgbW9uZ29vc2UuRG9jdW1lbnQge1xuICBuYW1lOiBzdHJpbmc7XG4gIHBob25lOiBzdHJpbmc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBzZXJ2aWNlPzogc3RyaW5nO1xuICBzb3VyY2U/OiBzdHJpbmc7IC8vIGUuZy4sICdiMmMnXG4gIHBhZ2VQYXRoPzogc3RyaW5nO1xuICB1dG1fc291cmNlPzogc3RyaW5nO1xuICB1dG1fbWVkaXVtPzogc3RyaW5nO1xuICB1dG1fY2FtcGFpZ24/OiBzdHJpbmc7XG4gIG1ldGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBjcmVhdGVkQXQ6IERhdGU7XG59XG5cbmNvbnN0IEIyQ0xlYWRTY2hlbWEgPSBuZXcgU2NoZW1hPElCMkNMZWFkPihcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdHJpbTogdHJ1ZSB9LFxuICAgIHBob25lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHRyaW06IHRydWUgfSxcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHRyaW06IHRydWUgfSxcbiAgICBzZXJ2aWNlOiB7IHR5cGU6IFN0cmluZywgdHJpbTogdHJ1ZSB9LFxuICAgIHNvdXJjZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdiMmMnIH0sXG4gICAgcGFnZVBhdGg6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgdXRtX3NvdXJjZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICB1dG1fbWVkaXVtOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgIHV0bV9jYW1wYWlnbjogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBtZXRhOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5NaXhlZCB9LFxuICB9LFxuICB7IHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiB0cnVlLCB1cGRhdGVkQXQ6IGZhbHNlIH0gfVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgKG1vZGVscy5CMkNMZWFkIGFzIG1vbmdvb3NlLk1vZGVsPElCMkNMZWFkPiB8IHVuZGVmaW5lZCkgfHwgbW9kZWw8SUIyQ0xlYWQ+KCdCMkNMZWFkJywgQjJDTGVhZFNjaGVtYSk7XG4iXSwibmFtZXMiOlsiU2NoZW1hIiwibW9kZWxzIiwibW9kZWwiLCJCMkNMZWFkU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJwaG9uZSIsImVtYWlsIiwic2VydmljZSIsInNvdXJjZSIsImRlZmF1bHQiLCJwYWdlUGF0aCIsInV0bV9zb3VyY2UiLCJ1dG1fbWVkaXVtIiwidXRtX2NhbXBhaWduIiwibWV0YSIsIlR5cGVzIiwiTWl4ZWQiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiQjJDTGVhZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/B2CLead.ts\n");

/***/ }),

/***/ "(api)/./models/HomeLead.ts":
/*!****************************!*\
  !*** ./models/HomeLead.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst HomeLeadSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    phone: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    email: {\n        type: String,\n        trim: true\n    },\n    company: {\n        type: String,\n        trim: true\n    },\n    service: {\n        type: String,\n        trim: true\n    },\n    source: {\n        type: String,\n        default: \"home\"\n    },\n    pagePath: {\n        type: String\n    },\n    utm_source: {\n        type: String\n    },\n    utm_medium: {\n        type: String\n    },\n    utm_campaign: {\n        type: String\n    },\n    meta: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n    }\n}, {\n    timestamps: {\n        createdAt: true,\n        updatedAt: false\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0__.models.HomeLead || (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.model)(\"HomeLead\", HomeLeadSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvSG9tZUxlYWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEO0FBaUIzRCxNQUFNRyxpQkFBaUIsSUFBSUgsNENBQU1BLENBQy9CO0lBQ0VJLE1BQU07UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtRQUFNQyxNQUFNO0lBQUs7SUFDakRDLE9BQU87UUFBRUosTUFBTUM7UUFBUUMsVUFBVTtRQUFNQyxNQUFNO0lBQUs7SUFDbERFLE9BQU87UUFBRUwsTUFBTUM7UUFBUUUsTUFBTTtJQUFLO0lBQ2xDRyxTQUFTO1FBQUVOLE1BQU1DO1FBQVFFLE1BQU07SUFBSztJQUNwQ0ksU0FBUztRQUFFUCxNQUFNQztRQUFRRSxNQUFNO0lBQUs7SUFDcENLLFFBQVE7UUFBRVIsTUFBTUM7UUFBUVEsU0FBUztJQUFPO0lBQ3hDQyxVQUFVO1FBQUVWLE1BQU1DO0lBQU87SUFDekJVLFlBQVk7UUFBRVgsTUFBTUM7SUFBTztJQUMzQlcsWUFBWTtRQUFFWixNQUFNQztJQUFPO0lBQzNCWSxjQUFjO1FBQUViLE1BQU1DO0lBQU87SUFDN0JhLE1BQU07UUFBRWQsTUFBTUwsNENBQU1BLENBQUNvQixLQUFLLENBQUNDLEtBQUs7SUFBQztBQUNuQyxHQUNBO0lBQUVDLFlBQVk7UUFBRUMsV0FBVztRQUFNQyxXQUFXO0lBQU07QUFBRTtBQUd0RCxpRUFBZSw2Q0FBUUMsUUFBUSxJQUE4Q3ZCLCtDQUFLQSxDQUFZLFlBQVlDLGVBQWVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJpZnljaGVjay1uZXh0anMvLi9tb2RlbHMvSG9tZUxlYWQudHM/MzI3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBtb2RlbHMsIG1vZGVsIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElIb21lTGVhZCBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50IHtcbiAgbmFtZTogc3RyaW5nO1xuICBwaG9uZTogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgY29tcGFueT86IHN0cmluZztcbiAgc2VydmljZT86IHN0cmluZztcbiAgc291cmNlPzogc3RyaW5nOyAvLyBlLmcuLCAnaG9tZSdcbiAgcGFnZVBhdGg/OiBzdHJpbmc7XG4gIHV0bV9zb3VyY2U/OiBzdHJpbmc7XG4gIHV0bV9tZWRpdW0/OiBzdHJpbmc7XG4gIHV0bV9jYW1wYWlnbj86IHN0cmluZztcbiAgbWV0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBjcmVhdGVkQXQ6IERhdGU7XG59XG5cbmNvbnN0IEhvbWVMZWFkU2NoZW1hID0gbmV3IFNjaGVtYTxJSG9tZUxlYWQ+KFxuICB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB0cmltOiB0cnVlIH0sXG4gICAgcGhvbmU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdHJpbTogdHJ1ZSB9LFxuICAgIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgdHJpbTogdHJ1ZSB9LFxuICAgIGNvbXBhbnk6IHsgdHlwZTogU3RyaW5nLCB0cmltOiB0cnVlIH0sXG4gICAgc2VydmljZTogeyB0eXBlOiBTdHJpbmcsIHRyaW06IHRydWUgfSxcbiAgICBzb3VyY2U6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnaG9tZScgfSxcbiAgICBwYWdlUGF0aDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICB1dG1fc291cmNlOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgIHV0bV9tZWRpdW06IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgdXRtX2NhbXBhaWduOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgIG1ldGE6IHsgdHlwZTogU2NoZW1hLlR5cGVzLk1peGVkIH0sXG4gIH0sXG4gIHsgdGltZXN0YW1wczogeyBjcmVhdGVkQXQ6IHRydWUsIHVwZGF0ZWRBdDogZmFsc2UgfSB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCAobW9kZWxzLkhvbWVMZWFkIGFzIG1vbmdvb3NlLk1vZGVsPElIb21lTGVhZD4gfCB1bmRlZmluZWQpIHx8IG1vZGVsPElIb21lTGVhZD4oJ0hvbWVMZWFkJywgSG9tZUxlYWRTY2hlbWEpO1xuIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vZGVscyIsIm1vZGVsIiwiSG9tZUxlYWRTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsInBob25lIiwiZW1haWwiLCJjb21wYW55Iiwic2VydmljZSIsInNvdXJjZSIsImRlZmF1bHQiLCJwYWdlUGF0aCIsInV0bV9zb3VyY2UiLCJ1dG1fbWVkaXVtIiwidXRtX2NhbXBhaWduIiwibWV0YSIsIlR5cGVzIiwiTWl4ZWQiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiSG9tZUxlYWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/HomeLead.ts\n");

/***/ }),

/***/ "(api)/./pages/api/leads/index.ts":
/*!**********************************!*\
  !*** ./pages/api/leads/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/mongodb */ \"(api)/./lib/mongodb.ts\");\n/* harmony import */ var _models_HomeLead__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/HomeLead */ \"(api)/./models/HomeLead.ts\");\n/* harmony import */ var _models_B2CLead__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/B2CLead */ \"(api)/./models/B2CLead.ts\");\n\n\n\nasync function handler(req, res) {\n    await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    if (req.method !== \"GET\") {\n        res.setHeader(\"Allow\", \"GET\");\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n    const { page = \"1\", limit = \"20\", type = \"all\", search = \"\", from, to } = req.query;\n    const p = Math.max(parseInt(page || \"1\") || 1, 1);\n    const l = Math.min(Math.max(parseInt(limit || \"20\") || 20, 1), 100);\n    const dateFilter = {};\n    if (from) dateFilter.$gte = new Date(from);\n    if (to) dateFilter.$lte = new Date(to);\n    const baseFilter = {};\n    if (Object.keys(dateFilter).length) baseFilter.createdAt = dateFilter;\n    if (search) {\n        const regex = new RegExp(search, \"i\");\n        baseFilter.$or = [\n            {\n                name: regex\n            },\n            {\n                email: regex\n            },\n            {\n                phone: regex\n            },\n            {\n                company: regex\n            },\n            {\n                service: regex\n            },\n            {\n                source: regex\n            }\n        ];\n    }\n    try {\n        if (type === \"home\") {\n            const [items, total] = await Promise.all([\n                _models_HomeLead__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find(baseFilter).sort({\n                    createdAt: -1\n                }).skip((p - 1) * l).limit(l),\n                _models_HomeLead__WEBPACK_IMPORTED_MODULE_1__[\"default\"].countDocuments(baseFilter)\n            ]);\n            return res.status(200).json({\n                success: true,\n                type: \"home\",\n                total,\n                page: p,\n                limit: l,\n                items\n            });\n        }\n        if (type === \"b2c\") {\n            const [items, total] = await Promise.all([\n                _models_B2CLead__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(baseFilter).sort({\n                    createdAt: -1\n                }).skip((p - 1) * l).limit(l),\n                _models_B2CLead__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countDocuments(baseFilter)\n            ]);\n            return res.status(200).json({\n                success: true,\n                type: \"b2c\",\n                total,\n                page: p,\n                limit: l,\n                items\n            });\n        }\n        // type === 'all' -> aggregate results from both with separate totals\n        const [homeItems, homeTotal, b2cItems, b2cTotal] = await Promise.all([\n            _models_HomeLead__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find(baseFilter).sort({\n                createdAt: -1\n            }).limit(l),\n            _models_HomeLead__WEBPACK_IMPORTED_MODULE_1__[\"default\"].countDocuments(baseFilter),\n            _models_B2CLead__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(baseFilter).sort({\n                createdAt: -1\n            }).limit(l),\n            _models_B2CLead__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countDocuments(baseFilter)\n        ]);\n        // Merge and sort by createdAt desc, then paginate\n        const merged = [\n            ...homeItems.map((i)=>({\n                    ...i.toObject(),\n                    _type: \"home\"\n                })),\n            ...b2cItems.map((i)=>({\n                    ...i.toObject(),\n                    _type: \"b2c\"\n                }))\n        ].sort((a, b)=>new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        const start = (p - 1) * l;\n        const items = merged.slice(start, start + l);\n        const total = homeTotal + b2cTotal;\n        return res.status(200).json({\n            success: true,\n            type: \"all\",\n            total,\n            page: p,\n            limit: l,\n            items,\n            totals: {\n                home: homeTotal,\n                b2c: b2cTotal\n            }\n        });\n    } catch (error) {\n        console.error(\"List leads error:\", error);\n        return res.status(500).json({\n            success: false,\n            message: \"Failed to list leads\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbGVhZHMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUM2QztBQUNHO0FBQ0Y7QUFFL0IsZUFBZUcsUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDN0UsTUFBTUwsd0RBQVNBO0lBRWYsSUFBSUksSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEJELElBQUlFLFNBQVMsQ0FBQyxTQUFTO1FBQ3ZCLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFPQyxTQUFTO1FBQXFCO0lBQzlFO0lBRUEsTUFBTSxFQUNKQyxPQUFPLEdBQUcsRUFDVkMsUUFBUSxJQUFJLEVBQ1pDLE9BQU8sS0FBSyxFQUNaQyxTQUFTLEVBQUUsRUFDWEMsSUFBSSxFQUNKQyxFQUFFLEVBQ0gsR0FBR2IsSUFBSWMsS0FBSztJQUViLE1BQU1DLElBQUlDLEtBQUtDLEdBQUcsQ0FBQ0MsU0FBU1YsUUFBUSxRQUFRLEdBQUc7SUFDL0MsTUFBTVcsSUFBSUgsS0FBS0ksR0FBRyxDQUFDSixLQUFLQyxHQUFHLENBQUNDLFNBQVNULFNBQVMsU0FBUyxJQUFJLElBQUk7SUFFL0QsTUFBTVksYUFBa0IsQ0FBQztJQUN6QixJQUFJVCxNQUFNUyxXQUFXQyxJQUFJLEdBQUcsSUFBSUMsS0FBS1g7SUFDckMsSUFBSUMsSUFBSVEsV0FBV0csSUFBSSxHQUFHLElBQUlELEtBQUtWO0lBRW5DLE1BQU1ZLGFBQWtCLENBQUM7SUFDekIsSUFBSUMsT0FBT0MsSUFBSSxDQUFDTixZQUFZTyxNQUFNLEVBQUVILFdBQVdJLFNBQVMsR0FBR1I7SUFFM0QsSUFBSVYsUUFBUTtRQUNWLE1BQU1tQixRQUFRLElBQUlDLE9BQU9wQixRQUFRO1FBQ2pDYyxXQUFXTyxHQUFHLEdBQUc7WUFDZjtnQkFBRUMsTUFBTUg7WUFBTTtZQUNkO2dCQUFFSSxPQUFPSjtZQUFNO1lBQ2Y7Z0JBQUVLLE9BQU9MO1lBQU07WUFDZjtnQkFBRU0sU0FBU047WUFBTTtZQUNqQjtnQkFBRU8sU0FBU1A7WUFBTTtZQUNqQjtnQkFBRVEsUUFBUVI7WUFBTTtTQUNqQjtJQUNIO0lBRUEsSUFBSTtRQUNGLElBQUlwQixTQUFTLFFBQVE7WUFDbkIsTUFBTSxDQUFDNkIsT0FBT0MsTUFBTSxHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztnQkFDdkM3Qyw2REFBYSxDQUFDNEIsWUFBWW1CLElBQUksQ0FBQztvQkFBRWYsV0FBVyxDQUFDO2dCQUFFLEdBQUdnQixJQUFJLENBQUMsQ0FBQzlCLElBQUksS0FBS0ksR0FBR1YsS0FBSyxDQUFDVTtnQkFDMUV0Qix1RUFBdUIsQ0FBQzRCO2FBQ3pCO1lBQ0QsT0FBT3hCLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7Z0JBQU1JLE1BQU07Z0JBQVE4QjtnQkFBT2hDLE1BQU1PO2dCQUFHTixPQUFPVTtnQkFBR29CO1lBQU07UUFDN0Y7UUFFQSxJQUFJN0IsU0FBUyxPQUFPO1lBQ2xCLE1BQU0sQ0FBQzZCLE9BQU9DLE1BQU0sR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ3ZDNUMsNERBQVksQ0FBQzJCLFlBQVltQixJQUFJLENBQUM7b0JBQUVmLFdBQVcsQ0FBQztnQkFBRSxHQUFHZ0IsSUFBSSxDQUFDLENBQUM5QixJQUFJLEtBQUtJLEdBQUdWLEtBQUssQ0FBQ1U7Z0JBQ3pFckIsc0VBQXNCLENBQUMyQjthQUN4QjtZQUNELE9BQU94QixJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO2dCQUFNSSxNQUFNO2dCQUFPOEI7Z0JBQU9oQyxNQUFNTztnQkFBR04sT0FBT1U7Z0JBQUdvQjtZQUFNO1FBQzVGO1FBRUEscUVBQXFFO1FBQ3JFLE1BQU0sQ0FBQ1EsV0FBV0MsV0FBV0MsVUFBVUMsU0FBUyxHQUFHLE1BQU1ULFFBQVFDLEdBQUcsQ0FBQztZQUNuRTdDLDZEQUFhLENBQUM0QixZQUFZbUIsSUFBSSxDQUFDO2dCQUFFZixXQUFXLENBQUM7WUFBRSxHQUFHcEIsS0FBSyxDQUFDVTtZQUN4RHRCLHVFQUF1QixDQUFDNEI7WUFDeEIzQiw0REFBWSxDQUFDMkIsWUFBWW1CLElBQUksQ0FBQztnQkFBRWYsV0FBVyxDQUFDO1lBQUUsR0FBR3BCLEtBQUssQ0FBQ1U7WUFDdkRyQixzRUFBc0IsQ0FBQzJCO1NBQ3hCO1FBRUQsa0RBQWtEO1FBQ2xELE1BQU0wQixTQUFTO2VBQUlKLFVBQVVLLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBTTtvQkFBRSxHQUFHQSxFQUFFQyxRQUFRLEVBQUU7b0JBQUVDLE9BQU87Z0JBQU87ZUFBUU4sU0FBU0csR0FBRyxDQUFDQyxDQUFBQSxJQUFNO29CQUFFLEdBQUdBLEVBQUVDLFFBQVEsRUFBRTtvQkFBRUMsT0FBTztnQkFBTTtTQUFJLENBQ3BJWCxJQUFJLENBQUMsQ0FBQ1ksR0FBR0MsSUFBTSxJQUFJbEMsS0FBS2tDLEVBQUU1QixTQUFTLEVBQVM2QixPQUFPLEtBQUssSUFBSW5DLEtBQUtpQyxFQUFFM0IsU0FBUyxFQUFTNkIsT0FBTztRQUUvRixNQUFNQyxRQUFRLENBQUM1QyxJQUFJLEtBQUtJO1FBQ3hCLE1BQU1vQixRQUFRWSxPQUFPUyxLQUFLLENBQUNELE9BQU9BLFFBQVF4QztRQUMxQyxNQUFNcUIsUUFBUVEsWUFBWUU7UUFFMUIsT0FBT2pELElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFNSSxNQUFNO1lBQU84QjtZQUFPaEMsTUFBTU87WUFBR04sT0FBT1U7WUFBR29CO1lBQU9zQixRQUFRO2dCQUFFQyxNQUFNZDtnQkFBV2UsS0FBS2I7WUFBUztRQUFFO0lBQ3hJLEVBQUUsT0FBT2MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMscUJBQXFCQTtRQUNuQyxPQUFPL0QsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU9DLFNBQVM7UUFBdUI7SUFDaEY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmlmeWNoZWNrLW5leHRqcy8uL3BhZ2VzL2FwaS9sZWFkcy9pbmRleC50cz8xYTU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IGRiQ29ubmVjdCBmcm9tICcuLi8uLi8uLi9saWIvbW9uZ29kYic7XG5pbXBvcnQgSG9tZUxlYWQgZnJvbSAnLi4vLi4vLi4vbW9kZWxzL0hvbWVMZWFkJztcbmltcG9ydCBCMkNMZWFkIGZyb20gJy4uLy4uLy4uL21vZGVscy9CMkNMZWFkJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBhd2FpdCBkYkNvbm5lY3QoKTtcblxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsICdHRVQnKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICBjb25zdCB7XG4gICAgcGFnZSA9ICcxJyxcbiAgICBsaW1pdCA9ICcyMCcsXG4gICAgdHlwZSA9ICdhbGwnLCAvLyAnaG9tZScgfCAnYjJjJyB8ICdhbGwnXG4gICAgc2VhcmNoID0gJycsIC8vIG1hdGNoZXMgbmFtZSwgZW1haWwsIHBob25lLCBjb21wYW55XG4gICAgZnJvbSwgLy8gSVNPIGRhdGUgc3RyaW5nXG4gICAgdG8sICAgLy8gSVNPIGRhdGUgc3RyaW5nXG4gIH0gPSByZXEucXVlcnkgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcblxuICBjb25zdCBwID0gTWF0aC5tYXgocGFyc2VJbnQocGFnZSB8fCAnMScpIHx8IDEsIDEpO1xuICBjb25zdCBsID0gTWF0aC5taW4oTWF0aC5tYXgocGFyc2VJbnQobGltaXQgfHwgJzIwJykgfHwgMjAsIDEpLCAxMDApO1xuXG4gIGNvbnN0IGRhdGVGaWx0ZXI6IGFueSA9IHt9O1xuICBpZiAoZnJvbSkgZGF0ZUZpbHRlci4kZ3RlID0gbmV3IERhdGUoZnJvbSk7XG4gIGlmICh0bykgZGF0ZUZpbHRlci4kbHRlID0gbmV3IERhdGUodG8pO1xuXG4gIGNvbnN0IGJhc2VGaWx0ZXI6IGFueSA9IHt9O1xuICBpZiAoT2JqZWN0LmtleXMoZGF0ZUZpbHRlcikubGVuZ3RoKSBiYXNlRmlsdGVyLmNyZWF0ZWRBdCA9IGRhdGVGaWx0ZXI7XG5cbiAgaWYgKHNlYXJjaCkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2gsICdpJyk7XG4gICAgYmFzZUZpbHRlci4kb3IgPSBbXG4gICAgICB7IG5hbWU6IHJlZ2V4IH0sXG4gICAgICB7IGVtYWlsOiByZWdleCB9LFxuICAgICAgeyBwaG9uZTogcmVnZXggfSxcbiAgICAgIHsgY29tcGFueTogcmVnZXggfSxcbiAgICAgIHsgc2VydmljZTogcmVnZXggfSxcbiAgICAgIHsgc291cmNlOiByZWdleCB9LFxuICAgIF07XG4gIH1cblxuICB0cnkge1xuICAgIGlmICh0eXBlID09PSAnaG9tZScpIHtcbiAgICAgIGNvbnN0IFtpdGVtcywgdG90YWxdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBIb21lTGVhZC5maW5kKGJhc2VGaWx0ZXIpLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLnNraXAoKHAgLSAxKSAqIGwpLmxpbWl0KGwpLFxuICAgICAgICBIb21lTGVhZC5jb3VudERvY3VtZW50cyhiYXNlRmlsdGVyKSxcbiAgICAgIF0pO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdHlwZTogJ2hvbWUnLCB0b3RhbCwgcGFnZTogcCwgbGltaXQ6IGwsIGl0ZW1zIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnYjJjJykge1xuICAgICAgY29uc3QgW2l0ZW1zLCB0b3RhbF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIEIyQ0xlYWQuZmluZChiYXNlRmlsdGVyKS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KS5za2lwKChwIC0gMSkgKiBsKS5saW1pdChsKSxcbiAgICAgICAgQjJDTGVhZC5jb3VudERvY3VtZW50cyhiYXNlRmlsdGVyKSxcbiAgICAgIF0pO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdHlwZTogJ2IyYycsIHRvdGFsLCBwYWdlOiBwLCBsaW1pdDogbCwgaXRlbXMgfSk7XG4gICAgfVxuXG4gICAgLy8gdHlwZSA9PT0gJ2FsbCcgLT4gYWdncmVnYXRlIHJlc3VsdHMgZnJvbSBib3RoIHdpdGggc2VwYXJhdGUgdG90YWxzXG4gICAgY29uc3QgW2hvbWVJdGVtcywgaG9tZVRvdGFsLCBiMmNJdGVtcywgYjJjVG90YWxdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgSG9tZUxlYWQuZmluZChiYXNlRmlsdGVyKS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KS5saW1pdChsKSxcbiAgICAgIEhvbWVMZWFkLmNvdW50RG9jdW1lbnRzKGJhc2VGaWx0ZXIpLFxuICAgICAgQjJDTGVhZC5maW5kKGJhc2VGaWx0ZXIpLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLmxpbWl0KGwpLFxuICAgICAgQjJDTGVhZC5jb3VudERvY3VtZW50cyhiYXNlRmlsdGVyKSxcbiAgICBdKTtcblxuICAgIC8vIE1lcmdlIGFuZCBzb3J0IGJ5IGNyZWF0ZWRBdCBkZXNjLCB0aGVuIHBhZ2luYXRlXG4gICAgY29uc3QgbWVyZ2VkID0gWy4uLmhvbWVJdGVtcy5tYXAoaSA9PiAoeyAuLi5pLnRvT2JqZWN0KCksIF90eXBlOiAnaG9tZScgfSkpLCAuLi5iMmNJdGVtcy5tYXAoaSA9PiAoeyAuLi5pLnRvT2JqZWN0KCksIF90eXBlOiAnYjJjJyB9KSldXG4gICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5jcmVhdGVkQXQgYXMgYW55KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRBdCBhcyBhbnkpLmdldFRpbWUoKSk7XG5cbiAgICBjb25zdCBzdGFydCA9IChwIC0gMSkgKiBsO1xuICAgIGNvbnN0IGl0ZW1zID0gbWVyZ2VkLnNsaWNlKHN0YXJ0LCBzdGFydCArIGwpO1xuICAgIGNvbnN0IHRvdGFsID0gaG9tZVRvdGFsICsgYjJjVG90YWw7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCB0eXBlOiAnYWxsJywgdG90YWwsIHBhZ2U6IHAsIGxpbWl0OiBsLCBpdGVtcywgdG90YWxzOiB7IGhvbWU6IGhvbWVUb3RhbCwgYjJjOiBiMmNUb3RhbCB9IH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xpc3QgbGVhZHMgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRmFpbGVkIHRvIGxpc3QgbGVhZHMnIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZGJDb25uZWN0IiwiSG9tZUxlYWQiLCJCMkNMZWFkIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNldEhlYWRlciIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsInBhZ2UiLCJsaW1pdCIsInR5cGUiLCJzZWFyY2giLCJmcm9tIiwidG8iLCJxdWVyeSIsInAiLCJNYXRoIiwibWF4IiwicGFyc2VJbnQiLCJsIiwibWluIiwiZGF0ZUZpbHRlciIsIiRndGUiLCJEYXRlIiwiJGx0ZSIsImJhc2VGaWx0ZXIiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiY3JlYXRlZEF0IiwicmVnZXgiLCJSZWdFeHAiLCIkb3IiLCJuYW1lIiwiZW1haWwiLCJwaG9uZSIsImNvbXBhbnkiLCJzZXJ2aWNlIiwic291cmNlIiwiaXRlbXMiLCJ0b3RhbCIsIlByb21pc2UiLCJhbGwiLCJmaW5kIiwic29ydCIsInNraXAiLCJjb3VudERvY3VtZW50cyIsImhvbWVJdGVtcyIsImhvbWVUb3RhbCIsImIyY0l0ZW1zIiwiYjJjVG90YWwiLCJtZXJnZWQiLCJtYXAiLCJpIiwidG9PYmplY3QiLCJfdHlwZSIsImEiLCJiIiwiZ2V0VGltZSIsInN0YXJ0Iiwic2xpY2UiLCJ0b3RhbHMiLCJob21lIiwiYjJjIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/leads/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleads&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleads%2Findex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();